{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pranjal Minocha\\\\Documents\\\\python\\\\Pixelo\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://127.0.0.1:8000';\nfunction App() {\n  _s();\n  const [imageUrl, setImageUrl] = useState('');\n  const [guess, setGuess] = useState('');\n  const [history, setHistory] = useState([]);\n  const [message, setMessage] = useState({\n    text: '',\n    type: 'info'\n  });\n  const [gameWon, setGameWon] = useState(false);\n  const [guessCount, setGuessCount] = useState(0);\n  const [totalWords, setTotalWords] = useState(0);\n  const [guessedWords, setGuessedWords] = useState(new Set());\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [showUsernameModal, setShowUsernameModal] = useState(false);\n  const [username, setUsername] = useState('');\n  const [finalRank, setFinalRank] = useState(null);\n  const [lastGameSessionId, setLastGameSessionId] = useState(null);\n  const [copyButtonText, setCopyButtonText] = useState('Share');\n  const [loading, setLoading] = useState(true);\n  const [loadingMessage, setLoadingMessage] = useState('Loading game...');\n  const inputRef = useRef(null);\n  const isInputDisabled = gameWon;\n  useEffect(() => {\n    const loadInitialData = async () => {\n      const timeoutId = setTimeout(() => {\n        setLoadingMessage('Waking up the server... this might take a minute (free tier hosting üòÖ)');\n      }, 3000);\n      try {\n        // Fetch game data and leaderboard concurrently\n        const [gameResponse, leaderboardResponse] = await Promise.all([fetch(`${API_BASE_URL}/api/game/today`), fetch(`${API_BASE_URL}/api/leaderboard/today`)]);\n        clearTimeout(timeoutId);\n        if (!gameResponse.ok) {\n          const errorData = await gameResponse.json();\n          throw new Error(errorData.detail || \"Could not load today's game.\");\n        }\n        const gameData = await gameResponse.json();\n        setImageUrl(`${API_BASE_URL}${gameData.imageUrl}`);\n        setTotalWords(gameData.totalWords);\n        if (leaderboardResponse.ok) {\n          const leaderboardData = await leaderboardResponse.json();\n          setLeaderboard(leaderboardData);\n        }\n      } catch (error) {\n        clearTimeout(timeoutId);\n        setMessage({\n          text: `Error: ${error.message}`,\n          type: 'error'\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadInitialData();\n    const savedUsername = localStorage.getItem('pixeloUsername');\n    if (savedUsername) setUsername(savedUsername);\n  }, []);\n  const handleGuessSubmit = async e => {\n    e.preventDefault();\n    if (isInputDisabled || !guess.trim()) return;\n    const wordToGuess = guess.trim().toLowerCase();\n    if (guessedWords.has(wordToGuess)) {\n      setMessage({\n        text: 'You already guessed that word!',\n        type: 'error'\n      });\n      setGuess('');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/game/guess`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          word: wordToGuess\n        })\n      });\n      const result = await response.json();\n      if (!response.ok) {\n        throw new Error(result.detail || 'Server error occurred.');\n      }\n      if (result.status === 'not_in_list') {\n        setMessage({\n          text: result.message,\n          type: 'error'\n        });\n      } else if (result.status === 'found') {\n        const newGuessCount = guessCount + 1;\n        setGuessCount(newGuessCount);\n        setGuessedWords(new Set(guessedWords).add(wordToGuess));\n        const newHistory = [{\n          word: wordToGuess,\n          rank: result.rank\n        }, ...history];\n        newHistory.sort((a, b) => a.rank - b.rank);\n        setHistory(newHistory);\n        setMessage({\n          text: '',\n          type: 'info'\n        });\n        if (result.isCorrect) {\n          const newSessionId = crypto.randomUUID();\n          setLastGameSessionId(newSessionId);\n\n          // Calculate potential rank based on the current leaderboard\n          const potentialRank = leaderboard.filter(e => e.score <= newGuessCount).length + 1;\n          setFinalRank(potentialRank);\n          setGameWon(true);\n          setMessage({\n            text: `Congratulations! You guessed it in ${newGuessCount} tries!`,\n            type: 'win'\n          });\n          setShowUsernameModal(true);\n        }\n      }\n    } catch (error) {\n      setMessage({\n        text: `Error: ${error.message}`,\n        type: 'error'\n      });\n    } finally {\n      setGuess('');\n      inputRef.current.focus();\n    }\n  };\n  const handleShare = () => {\n    const shareText = `I completed today's Pixelo in ${guessCount} guesses. ‚úèÔ∏è Let's see if you can do it in less!\\n${window.location.origin}`;\n    navigator.clipboard.writeText(shareText).then(() => {\n      setCopyButtonText('Copied!');\n      setTimeout(() => setCopyButtonText('Share'), 2000);\n    }).catch(err => {\n      console.error('Failed to copy text: ', err);\n      alert('Could not copy score to clipboard.');\n    });\n  };\n  const handleUsernameSubmit = async e => {\n    e.preventDefault();\n    const finalUsername = username.trim();\n    if (!finalUsername) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/leaderboard/submit`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: finalUsername,\n          score: guessCount,\n          sessionId: lastGameSessionId\n        })\n      });\n      const updatedLeaderboard = await response.json();\n      if (response.ok) {\n        localStorage.setItem('pixeloUsername', finalUsername);\n        setLeaderboard(updatedLeaderboard);\n        setShowUsernameModal(false);\n      } else {\n        throw new Error('Failed to submit score.');\n      }\n    } catch (error) {\n      console.error(error);\n      alert(error.message);\n    }\n  };\n  const getRankColor = useCallback(rank => {\n    if (rank === 0) return 'var(--rank-win)';\n    if (!totalWords) return 'var(--rank-bad)';\n    const percentile = rank / totalWords;\n    if (percentile <= 0.1) return 'var(--rank-good)';\n    if (percentile <= 0.5) return 'var(--rank-medium)';\n    return 'var(--rank-bad)';\n  }, [totalWords]);\n  const currentUserRank = lastGameSessionId ? leaderboard.findIndex(entry => entry.sessionId === lastGameSessionId) : -1;\n  const top10Leaderboard = leaderboard.slice(0, 10);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showUsernameModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"You won!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), finalRank && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your rank today is \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-numeric highlight-rank\",\n            children: finalRank\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 51\n          }, this), \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add your name to the leaderboard.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUsernameSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            placeholder: \"Enter your name\",\n            maxLength: \"20\",\n            required: true,\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-button-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Submit Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"share-button\",\n              onClick: handleShare,\n              children: copyButtonText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-column leaderboard-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), leaderboard.length > 0 ? /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"leaderboard-list\",\n          children: top10Leaderboard.map((entry, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: currentUserRank === index ? 'current-user' : '',\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"leaderboard-rank font-numeric\",\n              children: [index + 1, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"leaderboard-name\",\n              children: [entry.username, index === 0 && ' üèÜ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"leaderboard-score font-numeric\",\n              children: entry.score\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 37\n            }, this)]\n          }, entry.sessionId || `${entry.username}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-scores\",\n          children: \"No scores yet today.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-column\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Pixelo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-container\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: loadingMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-container\",\n                children: imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  id: \"doodle-image\",\n                  src: imageUrl,\n                  alt: \"A.I. generated doodle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 53\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Loading image...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 124\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"game-interface\",\n                children: [gameWon ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"share-button-main\",\n                  onClick: handleShare,\n                  children: copyButtonText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 45\n                }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n                  id: \"guess-form\",\n                  onSubmit: handleGuessSubmit,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"guess-input\",\n                    ref: inputRef,\n                    value: guess,\n                    onChange: e => setGuess(e.target.value),\n                    placeholder: \"Type your guess...\",\n                    autoComplete: \"off\",\n                    required: true,\n                    disabled: isInputDisabled\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    disabled: isInputDisabled,\n                    children: \"Guess\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"message-area\",\n                  className: `message-${message.type}`,\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"guess-counter\",\n                style: {\n                  visibility: guessCount > 0 && !gameWon ? 'visible' : 'hidden'\n                },\n                children: [\"Guesses: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-numeric\",\n                  children: guessCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-column history-column\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-header\",\n            style: {\n              visibility: history.length > 0 ? 'visible' : 'hidden'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"col-word\",\n              children: \"Word\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"col-rank\",\n              children: \"Rank\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            id: \"history-list\",\n            children: history.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"history-item-word\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rank-color-indicator\",\n                  style: {\n                    backgroundColor: getRankColor(item.rank)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 89\n                }, this), item.word]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"history-item-rank font-numeric\",\n                style: {\n                  color: getRankColor(item.rank)\n                },\n                children: item.rank === 0 ? 'Correct!' : item.rank\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 206\n              }, this)]\n            }, item.word, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"u5416X/u9SIlquv7M1amEesHMjM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","App","_s","imageUrl","setImageUrl","guess","setGuess","history","setHistory","message","setMessage","text","type","gameWon","setGameWon","guessCount","setGuessCount","totalWords","setTotalWords","guessedWords","setGuessedWords","Set","leaderboard","setLeaderboard","showUsernameModal","setShowUsernameModal","username","setUsername","finalRank","setFinalRank","lastGameSessionId","setLastGameSessionId","copyButtonText","setCopyButtonText","loading","setLoading","loadingMessage","setLoadingMessage","inputRef","isInputDisabled","loadInitialData","timeoutId","setTimeout","gameResponse","leaderboardResponse","Promise","all","fetch","clearTimeout","ok","errorData","json","Error","detail","gameData","leaderboardData","error","savedUsername","localStorage","getItem","handleGuessSubmit","e","preventDefault","trim","wordToGuess","toLowerCase","has","response","method","headers","body","JSON","stringify","word","result","status","newGuessCount","add","newHistory","rank","sort","a","b","isCorrect","newSessionId","crypto","randomUUID","potentialRank","filter","score","length","current","focus","handleShare","shareText","window","location","origin","navigator","clipboard","writeText","then","catch","err","console","alert","handleUsernameSubmit","finalUsername","sessionId","updatedLeaderboard","setItem","getRankColor","percentile","currentUserRank","findIndex","entry","top10Leaderboard","slice","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","maxLength","required","autoFocus","onClick","map","index","id","src","alt","ref","autoComplete","disabled","style","visibility","item","backgroundColor","color","_c","$RefreshReg$"],"sources":["C:/Users/Pranjal Minocha/Documents/python/Pixelo/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport './App.css';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://127.0.0.1:8000';\r\n\r\nfunction App() {\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [guess, setGuess] = useState('');\r\n    const [history, setHistory] = useState([]);\r\n    const [message, setMessage] = useState({ text: '', type: 'info' });\r\n    const [gameWon, setGameWon] = useState(false);\r\n    const [guessCount, setGuessCount] = useState(0);\r\n    const [totalWords, setTotalWords] = useState(0);\r\n    const [guessedWords, setGuessedWords] = useState(new Set());\r\n    const [leaderboard, setLeaderboard] = useState([]);\r\n    const [showUsernameModal, setShowUsernameModal] = useState(false);\r\n    const [username, setUsername] = useState('');\r\n    const [finalRank, setFinalRank] = useState(null);\r\n    const [lastGameSessionId, setLastGameSessionId] = useState(null);\r\n    const [copyButtonText, setCopyButtonText] = useState('Share');\r\n    const [loading, setLoading] = useState(true);\r\n    const [loadingMessage, setLoadingMessage] = useState('Loading game...');\r\n    const inputRef = useRef(null);\r\n\r\n    const isInputDisabled = gameWon;\r\n\r\n    useEffect(() => {\r\n        const loadInitialData = async () => {\r\n            const timeoutId = setTimeout(() => {\r\n                setLoadingMessage('Waking up the server... this might take a minute (free tier hosting üòÖ)');\r\n            }, 3000);\r\n\r\n            try {\r\n                // Fetch game data and leaderboard concurrently\r\n                const [gameResponse, leaderboardResponse] = await Promise.all([\r\n                    fetch(`${API_BASE_URL}/api/game/today`),\r\n                    fetch(`${API_BASE_URL}/api/leaderboard/today`)\r\n                ]);\r\n\r\n                clearTimeout(timeoutId);\r\n\r\n                if (!gameResponse.ok) {\r\n                    const errorData = await gameResponse.json();\r\n                    throw new Error(errorData.detail || \"Could not load today's game.\");\r\n                }\r\n                const gameData = await gameResponse.json();\r\n                setImageUrl(`${API_BASE_URL}${gameData.imageUrl}`);\r\n                setTotalWords(gameData.totalWords);\r\n\r\n                if (leaderboardResponse.ok) {\r\n                    const leaderboardData = await leaderboardResponse.json();\r\n                    setLeaderboard(leaderboardData);\r\n                }\r\n            } catch (error) {\r\n                clearTimeout(timeoutId);\r\n                setMessage({ text: `Error: ${error.message}`, type: 'error' });\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        loadInitialData();\r\n\r\n        const savedUsername = localStorage.getItem('pixeloUsername');\r\n        if (savedUsername) setUsername(savedUsername);\r\n    }, []);\r\n\r\n    const handleGuessSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (isInputDisabled || !guess.trim()) return;\r\n\r\n        const wordToGuess = guess.trim().toLowerCase();\r\n\r\n        if (guessedWords.has(wordToGuess)) {\r\n            setMessage({ text: 'You already guessed that word!', type: 'error' });\r\n            setGuess('');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/api/game/guess`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ word: wordToGuess }),\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(result.detail || 'Server error occurred.');\r\n            }\r\n\r\n            if (result.status === 'not_in_list') {\r\n                setMessage({ text: result.message, type: 'error' });\r\n            } else if (result.status === 'found') {\r\n                const newGuessCount = guessCount + 1;\r\n                setGuessCount(newGuessCount);\r\n                setGuessedWords(new Set(guessedWords).add(wordToGuess));\r\n\r\n                const newHistory = [{ word: wordToGuess, rank: result.rank }, ...history];\r\n                newHistory.sort((a, b) => a.rank - b.rank);\r\n                setHistory(newHistory);\r\n\r\n                setMessage({ text: '', type: 'info' });\r\n\r\n                if (result.isCorrect) {\r\n                    const newSessionId = crypto.randomUUID();\r\n                    setLastGameSessionId(newSessionId);\r\n\r\n                    // Calculate potential rank based on the current leaderboard\r\n                    const potentialRank = leaderboard.filter(e => e.score <= newGuessCount).length + 1;\r\n                    setFinalRank(potentialRank);\r\n\r\n                    setGameWon(true);\r\n                    setMessage({ text: `Congratulations! You guessed it in ${newGuessCount} tries!`, type: 'win' });\r\n                    setShowUsernameModal(true);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            setMessage({ text: `Error: ${error.message}`, type: 'error' });\r\n        } finally {\r\n            setGuess('');\r\n            inputRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleShare = () => {\r\n        const shareText = `I completed today's Pixelo in ${guessCount} guesses. ‚úèÔ∏è Let's see if you can do it in less!\\n${window.location.origin}`;\r\n        navigator.clipboard.writeText(shareText).then(() => {\r\n            setCopyButtonText('Copied!');\r\n            setTimeout(() => setCopyButtonText('Share'), 2000);\r\n        }).catch(err => {\r\n            console.error('Failed to copy text: ', err);\r\n            alert('Could not copy score to clipboard.');\r\n        });\r\n    };\r\n\r\n    const handleUsernameSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const finalUsername = username.trim();\r\n        if (!finalUsername) return;\r\n\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/api/leaderboard/submit`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ username: finalUsername, score: guessCount, sessionId: lastGameSessionId }),\r\n            });\r\n            const updatedLeaderboard = await response.json();\r\n            if (response.ok) {\r\n                localStorage.setItem('pixeloUsername', finalUsername);\r\n                setLeaderboard(updatedLeaderboard);\r\n                setShowUsernameModal(false);\r\n            } else {\r\n                throw new Error('Failed to submit score.');\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const getRankColor = useCallback((rank) => {\r\n        if (rank === 0) return 'var(--rank-win)';\r\n        if (!totalWords) return 'var(--rank-bad)';\r\n\r\n        const percentile = rank / totalWords;\r\n\r\n        if (percentile <= 0.1) return 'var(--rank-good)';\r\n        if (percentile <= 0.5) return 'var(--rank-medium)';\r\n        return 'var(--rank-bad)';\r\n    }, [totalWords]);\r\n\r\n    const currentUserRank = lastGameSessionId ? leaderboard.findIndex(entry => entry.sessionId === lastGameSessionId) : -1;\r\n    const top10Leaderboard = leaderboard.slice(0, 10);\r\n\r\n    return (\r\n        <>\r\n            {showUsernameModal && (\r\n                <div className=\"modal-overlay\">\r\n                    <div className=\"modal-content\">\r\n                        <h2>You won!</h2>\r\n                        {finalRank && (\r\n                            <p>Your rank today is <strong className=\"font-numeric highlight-rank\">{finalRank}</strong>!</p>\r\n                        )}\r\n                        <p>Add your name to the leaderboard.</p>\r\n                        <form onSubmit={handleUsernameSubmit}>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={username}\r\n                                onChange={(e) => setUsername(e.target.value)}\r\n                                placeholder=\"Enter your name\"\r\n                                maxLength=\"20\"\r\n                                required\r\n                                autoFocus\r\n                            />\r\n                            <div className=\"modal-button-group\">\r\n                                <button type=\"submit\">Submit Score</button>\r\n                                <button type=\"button\" className=\"share-button\" onClick={handleShare}>\r\n                                    {copyButtonText}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <div className=\"app-layout\">\r\n                {/* Left Column: Leaderboard */}\r\n                <div className=\"side-column leaderboard-column\">\r\n                    <h2>Leaderboard</h2>\r\n                    {leaderboard.length > 0 ? (\r\n                        <ol className=\"leaderboard-list\">\r\n                            {top10Leaderboard.map((entry, index) => (\r\n                                <li key={entry.sessionId || `${entry.username}-${index}`} className={currentUserRank === index ? 'current-user' : ''}>\r\n                                    <span className=\"leaderboard-rank font-numeric\">{index + 1}.</span>\r\n                                    <span className=\"leaderboard-name\">{entry.username}{index === 0 && ' üèÜ'}</span>\r\n                                    <span className=\"leaderboard-score font-numeric\">{entry.score}</span>\r\n                                </li>\r\n                            ))}\r\n                        </ol>\r\n                    ) : (\r\n                        <p className=\"no-scores\">No scores yet today.</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Middle Column: Game */}\r\n                <div className=\"main-column\">\r\n                    <div className=\"container\">\r\n                        <header>\r\n                            <h1>Pixelo</h1>\r\n                        </header>\r\n                        <main>\r\n                            {loading ? (\r\n                                <div className=\"loading-container\">\r\n                                    <p>{loadingMessage}</p>\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    <div className=\"image-container\">\r\n                                        {imageUrl ? <img id=\"doodle-image\" src={imageUrl} alt=\"A.I. generated doodle\" /> : <p>Loading image...</p>}\r\n                                    </div>\r\n                                    <div className=\"game-interface\">\r\n                                        {gameWon ? (\r\n                                            <button type=\"button\" className=\"share-button-main\" onClick={handleShare}>\r\n                                                {copyButtonText}\r\n                                            </button>\r\n                                        ) : (\r\n                                            <form id=\"guess-form\" onSubmit={handleGuessSubmit}>\r\n                                                <input type=\"text\" id=\"guess-input\" ref={inputRef} value={guess} onChange={(e) => setGuess(e.target.value)} placeholder=\"Type your guess...\" autoComplete=\"off\" required disabled={isInputDisabled} />\r\n                                                <button type=\"submit\" disabled={isInputDisabled}>Guess</button>\r\n                                            </form>\r\n                                        )}\r\n                                        <div id=\"message-area\" className={`message-${message.type}`}>{message.text}</div>\r\n                                    </div>\r\n                                    <div className=\"guess-counter\" style={{ visibility: (guessCount > 0 && !gameWon) ? 'visible' : 'hidden' }}>\r\n                                        Guesses: <span className=\"font-numeric\">{guessCount}</span>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </main>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Right Column: History */}\r\n                <div className=\"side-column history-column\">\r\n                    <div className=\"history-container\">\r\n                        <h2>History</h2>\r\n                        <div className=\"history-header\" style={{ visibility: history.length > 0 ? 'visible' : 'hidden' }}>\r\n                            <span className=\"col-word\">Word</span>\r\n                            <span className=\"col-rank\">Rank</span>\r\n                        </div>\r\n                        <ul id=\"history-list\">\r\n                            {history.map((item) => (\r\n                                <li key={item.word}><span className=\"history-item-word\"><span className=\"rank-color-indicator\" style={{ backgroundColor: getRankColor(item.rank) }}></span>{item.word}</span><span className=\"history-item-rank font-numeric\" style={{ color: getRankColor(item.rank) }}>{item.rank === 0 ? 'Correct!' : item.rank}</span></li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}